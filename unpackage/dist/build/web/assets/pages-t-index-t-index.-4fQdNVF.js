import{r as e,h as a,a as t,w as l,c as s,j as c,F as i,i as o,S as r,o as n,b as u,t as d,u as f,k as p,n as g,s as m,f as v}from"./index-CfP6DwfA.js";import{_}from"./背景@1x.D0lHbPr2.js";import{a as x,c as h,b as w,d as y,e as k}from"./index.jXFTdHRt.js";import{o as F}from"./uni-app.es._R_BQDpV.js";import{u as C}from"./useMainStore.xCEnPSxB.js";import{_ as S}from"./_plugin-vue_export-helper.BCo6x5W8.js";const j=S({__name:"t-index",setup(S){let j=e([]),A=e([]),P=e("");const D=e("");async function b(){let e=await w(P.value,N.value);if(console.log(e.data.Results,"daochu"),0!=e.code)m({title:"查看结果失败",icon:"error",duration:1e3});else{C().setResultData(e.data.Results),g({url:"/pages/t-content/t-content"})}M()}const B=e(!1),I=e(!1),L=e(!1),G=e(null);function M(){B.value=!1,I.value=!1,L.value=!1}const N=e("");async function R(e,a){let t=await h(e,a);console.log(t.data.titleList.SepProPracticeInfos,"kkkkk");let l=t.data.titleList;D.value=function(e){const a=new Date(e),t=a.getMonth()+1,l=a.getDate();return`${t.toString().padStart(2,"0")}月${l.toString().padStart(2,"0")}日`}(l.titleEtime);let s=[];l.SepProPracticeInfos&&l.SepProPracticeInfos.forEach(((e,a)=>{s.push({status:e.releaseStatus,theme:e.title,deadline:e.selectEtime.substring(0,10)})})),j.value=s}async function E(){let e=await y(P.value,N.value);if(0!=e.code)m({title:"创建失败",icon:"error",duration:1e3});else{const a=C();a.setCopyData(e.data.Details),a.setSharedData(P.value),g({url:"/pages/t-publish/t-publish"})}M()}return async function(){let e=await x();console.log(e,"aaa");let a=e.data.proPracticeList.ProjectPracticeInfos;A.value=a,P.value=a[0].projectPracticeName,G.value=a[0].id,R(a[0].projectPracticeName,a[0].id)}(),F((()=>{})),(e,x)=>{const h=v,w=o,F=r;return n(),a(i,null,[t(F,{class:"containers","scroll-y":"true"},{default:l((()=>[t(h,{src:_,mode:"aspectFill",class:"bg"}),t(w,{class:"headtext"},{default:l((()=>[u("教师端")])),_:1}),t(w,{class:"xuan",onClick:x[0]||(x[0]=e=>B.value=!0)},{default:l((()=>[u(d(f(P))+"实践",1),t(h,{src:"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20fill='none'%20version='1.1'%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%3e%3cg%3e%3cg%3e%3cpath%20d='M3.20711,5C2.761654,5,2.538571,5.538571,2.853554,5.853554L7.64645,10.64645C7.84171,10.841709999999999,8.158290000000001,10.841709999999999,8.35355,10.64645L13.1464,5.853554C13.4614,5.538571,13.2383,5,12.7929,5L3.20711,5Z'%20fill='%2309101D'%20fill-opacity='1'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",mode:"aspectFill"})])),_:1}),t(w,{class:"nnn"},{default:l((()=>[u(" 工程项目选课系统 ")])),_:1}),t(w,{class:"sss"},{default:l((()=>[u("精准匹配课程需求 简化选课流程")])),_:1}),t(w,{class:"zhong"},{default:l((()=>[t(w,{class:"deadline"},{default:l((()=>[u(d(f(P))+"出题截止时间:"+d(D.value),1)])),_:1})])),_:1}),t(w,{class:"items"},{default:l((()=>[t(w,{class:"itemn",onClick:x[1]||(x[1]=e=>(C().setSharedData(P.value),void g({url:"/pages/t-publish/t-publish"})))},{default:l((()=>[t(h,{src:"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20fill='none'%20version='1.1'%20width='91'%20height='91'%20viewBox='0%200%2091%2091'%3e%3cdefs%3e%3cfilter%20id='master_svg0_17_00477/17_00472'%20filterUnits='objectBoundingBox'%20color-interpolation-filters='sRGB'%20x='-0.32786885245901637'%20y='-0.29508196721311475'%20width='1.6557377049180328'%20height='1.6557377049180328'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'/%3e%3cfeOffset%20dy='2'%20dx='0'/%3e%3cfeGaussianBlur%20stdDeviation='5'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200.3490196168422699%200%200%200%200%200.5137255191802979%200%200%200%200%200.9490196108818054%200%200%200%200.6299999952316284%200'/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow'%20result='shape'/%3e%3c/filter%3e%3cradialGradient%20cx='0'%20cy='0'%20r='1'%20gradientUnits='userSpaceOnUse'%20id='master_svg1_17_00869'%20gradientTransform='translate(45.5%2022.84259068965912)%20rotate(90)%20scale(51.15740931034088%2051.15740931034088)'%3e%3cstop%20offset='0%25'%20stop-color='%2386A8FF'%20stop-opacity='1'/%3e%3cstop%20offset='100%25'%20stop-color='%235880F5'%20stop-opacity='1'/%3e%3c/radialGradient%3e%3c/defs%3e%3cg%3e%3cg%20filter='url(%23master_svg0_17_00477/17_00472)'%3e%3cellipse%20cx='45.5'%20cy='43.5'%20rx='30.5'%20ry='30.5'%20fill='url(%23master_svg1_17_00869)'%20fill-opacity='1'/%3e%3c/g%3e%3cg%3e%3cg%3e%3crect%20x='30'%20y='41.5128173828125'%20width='31'%20height='3.9743590354919434'%20rx='1.9871795177459717'%20fill='%23FFFFFF'%20fill-opacity='1'/%3e%3c/g%3e%3cg%20transform='matrix(0,-1,1,0,-15.487227439880371,102.51277256011963)'%3e%3crect%20x='43.51277256011963'%20y='59'%20width='31'%20height='3.9743590354919434'%20rx='1.9871795177459717'%20fill='%23FFFFFF'%20fill-opacity='1'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",mode:"",class:"newimg"}),t(w,{class:"new"},{default:l((()=>[u(" 新建课题 ")])),_:1})])),_:1}),(n(!0),a(i,null,p(f(j),((e,a)=>(n(),s(w,{class:"item",key:a},{default:l((()=>[t(w,{class:"head"},{default:l((()=>[t(w,{class:"st"},{default:l((()=>[t(h,{src:e.status?"/static/已发布@1x.png":"/static/未发布@1x.png",mode:"scaleToFill"},null,8,["src"])])),_:2},1024),t(h,{class:"es",src:"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20fill='none'%20version='1.1'%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%3e%3cg%3e%3cg%3e%3cellipse%20cx='4'%20cy='8'%20rx='1'%20ry='1'%20fill='%23AAA8A9'%20fill-opacity='1'/%3e%3c/g%3e%3cg%3e%3cellipse%20cx='8'%20cy='8'%20rx='1'%20ry='1'%20fill='%23AAA8A9'%20fill-opacity='1'/%3e%3c/g%3e%3cg%3e%3cellipse%20cx='12'%20cy='8'%20rx='1'%20ry='1'%20fill='%23AAA8A9'%20fill-opacity='1'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",onClick:a=>{return t=e.theme,I.value=!0,void(N.value=t);var t}},null,8,["onClick"])])),_:2},1024),t(w,{class:"theme"},{default:l((()=>[u(d(e.theme),1)])),_:2},1024),t(w,{class:"ddl"},{default:l((()=>[u("选课截止："+d(e.deadline),1)])),_:2},1024),t(h,{class:"btn",src:e.status?"/static/按钮@1x.png":"/static/1111.png",mode:"scaleToFill",onClick:a=>{return t=e.status,l=e.theme,N.value=l,void(t?L.value=!0:E());var t,l}},null,8,["src","onClick"])])),_:2},1024)))),128))])),_:1})])),_:1}),B.value?(n(),s(w,{key:0,class:"mask"},{default:l((()=>[t(w,{class:"modal"},{default:l((()=>[(n(!0),a(i,null,p(f(A),((e,a)=>(n(),s(w,{class:"profession",key:a,onClick:a=>{return t=e,P.value=t.projectPracticeName,G.value=t.id,R(t.projectPracticeName,t.id),void M();var t}},{default:l((()=>[u(d(e.projectPracticeName),1)])),_:2},1032,["onClick"])))),128)),t(w,{class:"footer",onClick:M},{default:l((()=>[u(" 取消 ")])),_:1})])),_:1})])),_:1})):c("",!0),I.value?(n(),s(w,{key:1,class:"mask"},{default:l((()=>[t(w,{class:"modal"},{default:l((()=>[t(w,{class:"profession",onClick:b},{default:l((()=>[u(" 导出结果 ")])),_:1}),t(w,{class:"profession",onClick:x[2]||(x[2]=e=>E())},{default:l((()=>[u(" 创建副本 ")])),_:1}),t(w,{class:"dels",onClick:x[3]||(x[3]=e=>async function(){0!=(await k(P.value,N.value)).code&&m({title:"删除失败",icon:"error",duration:1e3}),M(),R(P.value,G.value)}())},{default:l((()=>[u(" 删除 ")])),_:1}),t(w,{class:"footer",onClick:M},{default:l((()=>[u(" 取消 ")])),_:1})])),_:1})])),_:1})):c("",!0),L.value?(n(),s(w,{key:2,class:"mask"},{default:l((()=>[t(w,{class:"modal"},{default:l((()=>[t(w,{class:"profession",onClick:x[4]||(x[4]=e=>async function(){let e=await y(P.value,N.value);if(0!=e.code)m({title:"查看详情失败",icon:"error",duration:1e3});else{const a=C();a.setDetailData(e.data.Details),a.setSharedData(P.value),g({url:"/pages/t-detail/t-detail"})}M()}())},{default:l((()=>[u(" 查看出题详情 ")])),_:1}),t(w,{class:"profession",onClick:x[5]||(x[5]=e=>async function(){b()}())},{default:l((()=>[u(" 查看选题结果 ")])),_:1}),t(w,{class:"footer",onClick:M},{default:l((()=>[u(" 取消 ")])),_:1})])),_:1})])),_:1})):c("",!0)],64)}}},[["__scopeId","data-v-f5acfb00"]]);export{j as default};
