import{_ as e,r as a,h as l,a as t,w as s,c,j as o,F as i,i as r,S as n,o as u,b as d,t as f,u as g,k as v,s as p,n as m,f as h,g as w}from"./index-DD5tuGI5.js";import{_ as x}from"./背景@1x.B6KvhxrT.js";import{a as _,c as y,b as C,d as k,e as Q,s as F}from"./index.CZ5U0Xpo.js";import{a as A}from"./uni-app.es.BY2AhSax.js";import{u as b}from"./useMainStore.Cadj8B6y.js";const j=e({__name:"t-index",setup(e){let j=a([]),D=a([]),L=a("");const S=a("");async function B(){let e=await C(L.value,R.value,N.value,T.value);if(console.log(e.data.Results,"daochu"),0!=e.code)p({title:"查看结果失败",icon:"error",duration:1e3});else{b().setResultData(e.data.Results),m({url:"/pages/t-content/t-content"})}G()}const P=a(!1),M=a(!1),I=a(!1),N=a(null),Z=a();function G(){P.value=!1,M.value=!1,I.value=!1}function E(){m({url:"/pages/t-my/t-my"})}const R=a(""),T=a(null);function U(e,a,l){R.value=a,T.value=l,e?I.value=!0:async function(){let e=await k(L.value,R.value,N.value,T.value,0);if(console.log(e,"copy"),0!=e.code)p({title:"操作失败",icon:"error",duration:1e3});else{const a=b();a.setCopyData(e.data.Details),a.setSharedData(L.value,N.value,Z.value),m({url:"/pages/t-publish/t-publish"})}G()}()}async function O(e,a){let l=await y(e,a);console.log(l,"kkkkk");let t=l.data.titleList;S.value=t.titleEtime;let s=[];t.SepProPracticeInfos&&t.SepProPracticeInfos.forEach(((e,a)=>{s.push({status:e.releaseStatus,theme:e.title,deadline:e.selectEtime.substring(0,10),code:e.code})})),j.value=s}return A((()=>{!async function(){let e=await _();console.log(e,"aaa");let a=e.data.proPracticeList;a&&a.length>0&&a.forEach(((e,a)=>{var l;l=e.projectPracticeName,/^\d{4}/.test(l)||(e.projectPracticeName=e.grade+e.majorName+e.projectPracticeName)})),D.value=a;const l=b();null!=l.profession?(L.value=l.profession,N.value=l.proId,Z.value=l.schoolCode,O(l.profession,l.proId)):L.value="请选择课题"}()})),(e,a)=>{const _=h,y=r,C=n,A=w;return u(),l(i,null,[t(C,{class:"containers","scroll-y":"true"},{default:s((()=>[t(_,{src:x,mode:"aspectFill",class:"bg"}),t(y,{class:"headtext"},{default:s((()=>[d("教师端")])),_:1}),t(y,{class:"xuan",onClick:a[0]||(a[0]=e=>P.value=!0)},{default:s((()=>[d(f(g(L))+" ",1),t(_,{src:"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20fill='none'%20version='1.1'%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%3e%3cg%3e%3cg%3e%3cpath%20d='M3.20711,5C2.761654,5,2.538571,5.538571,2.853554,5.853554L7.64645,10.64645C7.84171,10.841709999999999,8.158290000000001,10.841709999999999,8.35355,10.64645L13.1464,5.853554C13.4614,5.538571,13.2383,5,12.7929,5L3.20711,5Z'%20fill='%2309101D'%20fill-opacity='1'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",mode:"aspectFill"})])),_:1}),t(y,{class:"nnn"},{default:s((()=>[d(" 工程项目选课系统 ")])),_:1}),t(y,{class:"sss"},{default:s((()=>[d("精准匹配课程需求 简化选课流程")])),_:1}),t(y,{class:"zhong"},{default:s((()=>[t(y,{class:"deadline"},{default:s((()=>[d("出题截止时间:"+f(S.value),1)])),_:1})])),_:1}),t(y,{class:"items"},{default:s((()=>[t(y,{class:"itemn",onClick:a[1]||(a[1]=e=>{"请选择课题"==L.value?p({title:"请先选择课题",icon:"error",duration:1500}):(b().setSharedData(L.value,N.value,Z.value),m({url:"/pages/t-publish/t-publish"}))})},{default:s((()=>[t(_,{src:"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20fill='none'%20version='1.1'%20width='91'%20height='91'%20viewBox='0%200%2091%2091'%3e%3cdefs%3e%3cfilter%20id='master_svg0_17_00477/17_00472'%20filterUnits='objectBoundingBox'%20color-interpolation-filters='sRGB'%20x='-0.32786885245901637'%20y='-0.29508196721311475'%20width='1.6557377049180328'%20height='1.6557377049180328'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'/%3e%3cfeOffset%20dy='2'%20dx='0'/%3e%3cfeGaussianBlur%20stdDeviation='5'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200.3490196168422699%200%200%200%200%200.5137255191802979%200%200%200%200%200.9490196108818054%200%200%200%200.6299999952316284%200'/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow'%20result='shape'/%3e%3c/filter%3e%3cradialGradient%20cx='0'%20cy='0'%20r='1'%20gradientUnits='userSpaceOnUse'%20id='master_svg1_17_00869'%20gradientTransform='translate(45.5%2022.84259068965912)%20rotate(90)%20scale(51.15740931034088%2051.15740931034088)'%3e%3cstop%20offset='0%25'%20stop-color='%2386A8FF'%20stop-opacity='1'/%3e%3cstop%20offset='100%25'%20stop-color='%235880F5'%20stop-opacity='1'/%3e%3c/radialGradient%3e%3c/defs%3e%3cg%3e%3cg%20filter='url(%23master_svg0_17_00477/17_00472)'%3e%3cellipse%20cx='45.5'%20cy='43.5'%20rx='30.5'%20ry='30.5'%20fill='url(%23master_svg1_17_00869)'%20fill-opacity='1'/%3e%3c/g%3e%3cg%3e%3cg%3e%3crect%20x='30'%20y='41.5128173828125'%20width='31'%20height='3.9743590354919434'%20rx='1.9871795177459717'%20fill='%23FFFFFF'%20fill-opacity='1'/%3e%3c/g%3e%3cg%20transform='matrix(0,-1,1,0,-15.487227439880371,102.51277256011963)'%3e%3crect%20x='43.51277256011963'%20y='59'%20width='31'%20height='3.9743590354919434'%20rx='1.9871795177459717'%20fill='%23FFFFFF'%20fill-opacity='1'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",mode:"",class:"newimg"}),t(y,{class:"new"},{default:s((()=>[d(" 新建课题 ")])),_:1})])),_:1}),(u(!0),l(i,null,v(g(j),((e,a)=>(u(),c(y,{class:"item",key:a},{default:s((()=>[t(y,{class:"head"},{default:s((()=>[t(y,{class:"st"},{default:s((()=>[t(_,{src:e.status?"/static/已发布@1x.png":"/static/未发布@1x.png",mode:"scaleToFill"},null,8,["src"])])),_:2},1024),t(_,{class:"es",src:"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20fill='none'%20version='1.1'%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%3e%3cg%3e%3cg%3e%3cellipse%20cx='4'%20cy='8'%20rx='1'%20ry='1'%20fill='%23AAA8A9'%20fill-opacity='1'/%3e%3c/g%3e%3cg%3e%3cellipse%20cx='8'%20cy='8'%20rx='1'%20ry='1'%20fill='%23AAA8A9'%20fill-opacity='1'/%3e%3c/g%3e%3cg%3e%3cellipse%20cx='12'%20cy='8'%20rx='1'%20ry='1'%20fill='%23AAA8A9'%20fill-opacity='1'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",onClick:a=>{return l=e.theme,t=e.code,M.value=!0,R.value=l,void(T.value=t);var l,t}},null,8,["onClick"])])),_:2},1024),t(y,{class:"theme"},{default:s((()=>[d(f(e.theme),1)])),_:2},1024),t(y,{class:"ddl"},{default:s((()=>[d("选课截止："+f(e.deadline),1)])),_:2},1024),t(_,{class:"btn",src:e.status?"/static/按钮@1x.png":"/static/1111.png",mode:"scaleToFill",onClick:a=>U(e.status,e.theme,e.code)},null,8,["src","onClick"])])),_:2},1024)))),128))])),_:1})])),_:1}),P.value?(u(),c(y,{key:0,class:"mask"},{default:s((()=>[t(y,{class:"modal",style:{"overflow-y":"auto","max-height":"100vh"}},{default:s((()=>[(u(!0),l(i,null,v(g(D),((e,a)=>(u(),c(y,{class:"profession",key:a,onClick:a=>{return l=e,L.value=l.projectPracticeName,N.value=l.projectPracticeCode,Z.value=l.schoolCode,O(l.projectPracticeName,l.projectPracticeCode),void G();var l}},{default:s((()=>[d(f(e.projectPracticeName),1)])),_:2},1032,["onClick"])))),128)),t(y,{class:"footer",onClick:G},{default:s((()=>[d(" 取消 ")])),_:1})])),_:1})])),_:1})):o("",!0),M.value?(u(),c(y,{key:1,class:"mask"},{default:s((()=>[t(y,{class:"modal"},{default:s((()=>[t(y,{class:"profession",onClick:a[2]||(a[2]=e=>async function(){let e=await k(L.value,R.value,N.value,T.value,1);if(console.log(e,"xiugai"),0!=e.code)p({title:"查看结果失败",icon:"error",duration:1e3});else{const a=b();a.setChangeData(e.data.Details),a.setSharedData(L.value,N.value),m({url:"/pages/t-publish/t-publish"})}G()}())},{default:s((()=>[d(" 修改出题内容 ")])),_:1}),t(y,{class:"profession",onClick:B},{default:s((()=>[d(" 导出结果 ")])),_:1}),t(y,{class:"profession",onClick:a[3]||(a[3]=e=>async function(){let e=await F(L.value,R.value,N.value,T.value);if(console.log(e.data,"copys"),0!=e.code)p({title:"创建失败",icon:"error",duration:1e3});else{const a=b();a.setCopyData(e.data.titleCopy),a.setSharedData(L.value,N.value),m({url:"/pages/t-publish/t-publish"})}G()}())},{default:s((()=>[d(" 创建副本 ")])),_:1}),t(y,{class:"dels",onClick:a[4]||(a[4]=e=>async function(){0!=(await Q(L.value,R.value,N.value,T.value)).code&&p({title:"删除失败",icon:"error",duration:1e3}),G(),O(L.value,N.value)}())},{default:s((()=>[d(" 删除 ")])),_:1}),t(y,{class:"footer",onClick:G},{default:s((()=>[d(" 取消 ")])),_:1})])),_:1})])),_:1})):o("",!0),I.value?(u(),c(y,{key:2,class:"mask"},{default:s((()=>[t(y,{class:"modal"},{default:s((()=>[t(y,{class:"profession",onClick:a[5]||(a[5]=e=>async function(){let e=await k(L.value,R.value,N.value,T.value,1);if(0!=e.code)p({title:"查看详情失败",icon:"error",duration:1e3});else{const a=b();a.setDetailData(e.data.Details),a.setSharedData(L.value,N.value),m({url:"/pages/t-detail/t-detail"})}G()}())},{default:s((()=>[d(" 查看出题详情 ")])),_:1}),t(y,{class:"profession",onClick:a[6]||(a[6]=e=>async function(){B()}())},{default:s((()=>[d(" 查看选题结果 ")])),_:1}),t(y,{class:"footer",onClick:G},{default:s((()=>[d(" 取消 ")])),_:1})])),_:1})])),_:1})):o("",!0),t(y,{class:"tabbars"},{default:s((()=>[t(y,{class:"imggg"},{default:s((()=>[t(_,{src:"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20fill='none'%20version='1.1'%20width='23'%20height='23'%20viewBox='0%200%2023%2023'%3e%3cg%3e%3cg%3e%3cpath%20d='M0,11.5C0,14.75876,0.00815976,16.447200000000002,0.485438,17.750700000000002C1.29299,19.956200000000003,3.04381,21.707,5.24933,22.5146C6.55284,22.9918,8.24124,23,11.5,23C14.7588,23,16.4472,22.9918,17.7507,22.5146C19.9562,21.707,21.707,19.956200000000003,22.5146,17.750700000000002C22.9918,16.447200000000002,23,14.75876,23,11.5L23,10.75C23,9.120619999999999,22.9959,8.27642,22.7573,7.62467C22.3535,6.52191,21.4781,5.6464929999999995,20.3753,5.242719C19.7236,5.00407977,18.8794,5,17.25,5L5.75,5C4.12062,5,3.27642,5.00407977,2.62467,5.242719C1.52191,5.6464929999999995,0.646493,6.52191,0.242719,7.62467C0.00407977,8.27642,0,9.120619999999999,0,10.75L0,11.5Z'%20fill='%235279F2'%20fill-opacity='1'/%3e%3c/g%3e%3cg%3e%3cpath%20d='M15.4453,3.33205L15.4453,3.33205Q13.44697,2,11.5,2Q9.55278,2,7.5547,3.33205C7.39043,3.44156,7.19743,3.5,7,3.5C6.447715,3.5,6,3.05228,6,2.5C6,2.16565,6.167101,1.85342,6.4453,1.66795Q8.94722,5.96046e-8,11.5,0Q14.05215,0,16.5535,1.66714L16.5546,1.66786C16.832900000000002,1.85342,17,2.16565,17,2.5C17,3.05228,16.552300000000002,3.5,16,3.5C15.80257,3.5,15.60957,3.44156,15.4453,3.33205Z'%20fill-rule='evenodd'%20fill='%235279F2'%20fill-opacity='1'/%3e%3c/g%3e%3cg%20transform='matrix(1,0,0,-1,0,28)'%3e%3cpath%20d='M16.552,16.39401L16.552799999999998,16.39443Q16.7639,16.5,17,16.5Q17.0985,16.5,17.1951,16.48078Q17.2917,16.461570000000002,17.3827,16.42388Q17.4737,16.38619,17.5556,16.33147Q17.6375,16.27675,17.7071,16.20711Q17.776699999999998,16.13746,17.8315,16.05557Q17.886200000000002,15.97368,17.9239,15.88268Q17.9616,15.79169,17.980800000000002,15.69509Q18,15.59849,18,15.5Q18,15.36072,17.9619,15.22673Q17.9239,15.09275,17.8507,14.974269Q17.7774,14.855787,17.674599999999998,14.761825Q17.5718,14.667863,17.447200000000002,14.605573Q14.23607,13,11.5,13Q8.76414,13,5.553284,14.605324L5.552786,14.605573Q5.4282070000000004,14.667862,5.325391,14.761825Q5.222575,14.855787,5.149349,14.974269Q5.076123,15.09275,5.038062,15.22673Q5,15.36072,5,15.5Q5,15.59849,5.019215,15.69509Q5.03843,15.79169,5.076121,15.88268Q5.113812,15.97368,5.16853,16.05557Q5.223249,16.13746,5.292893,16.20711Q5.362537,16.27675,5.44443,16.33147Q5.526322,16.38619,5.617317,16.42388Q5.708311,16.461570000000002,5.80491,16.48078Q5.9015086,16.5,6,16.5Q6.236068,16.5,6.447214,16.39443Q9.23607,15,11.5,15Q13.76359,15,16.552,16.39401Z'%20fill-rule='evenodd'%20fill='%23FFFFFF'%20fill-opacity='1'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",mode:""}),t(A,null,{default:s((()=>[d("首页")])),_:1})])),_:1}),t(y,{class:"imggg",onClick:E},{default:s((()=>[t(_,{src:"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20fill='none'%20version='1.1'%20width='21'%20height='23'%20viewBox='0%200%2021%2023'%3e%3cg%3e%3cg%3e%3cg%3e%3cpath%20d='M10.5026,15.3333Q21.0954,15.3333,20.9904,21.9171C21.0706,22.5151,20.641,23,20.0301,23L0.975193,23C0.364276,23,-0.0891396,22.5084,0.0149072,21.9171Q-0.0920033,15.3333,10.5026,15.3333ZM10.4998,0L17.1817,0L17.1817,6.70833C17.1817,10.4132,14.1901,13.4167,10.4998,13.4167C6.80946,13.4167,3.81787,10.4132,3.81787,6.70833C3.81787,3.00342,6.80946,0,10.4998,0Z'%20fill='%23A3A3A3'%20fill-opacity='1'%20style='mix-blend-mode:passthrough'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",mode:""}),t(A,{style:{color:"#A3A3A3"}},{default:s((()=>[d("个人")])),_:1})])),_:1})])),_:1})],64)}}},[["__scopeId","data-v-ad66da09"]]);export{j as default};
