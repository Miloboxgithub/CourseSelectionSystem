import{r as e,c as a,w as s,s as t,S as l,o as c,a as o,b as r,t as n,u as i,h as u,k as d,F as m,f,i as _,n as p,g}from"./index-BQqAIaJa.js";import{_ as h}from"./背景@1x.B6KvhxrT.js";import{_ as v,a as x}from"./右箭头.dhNkrSW6.js";import{_ as w,a as y}from"./_plugin-vue_export-helper.VBtj53E2.js";import{k as j,l as k}from"./index.BtZ1W5nT.js";import{u as C}from"./useMainStore.fUJgjUay.js";const L=w({__name:"s-index",setup(w){const L=C();let F=e([]),N=e("");e([]).value=["2024电子专业"];let z=e("");async function D(){const e=await j();if(console.log(e),F.value=[],0==e.code){N.value=function(e){const a=new Date(e);if(isNaN(a.getTime()))throw new Error("Invalid date");return new Intl.DateTimeFormat("zh-CN",{year:"numeric",month:"long",day:"numeric"}).format(a).split(" ")[0]}(e.data.project_info.selectEtime),z.value=e.data.grade+e.data.majorName;let a=e.data.course;null!=a&&a.forEach(((e,a)=>{F.value.push({theme:e.course_title,t:e.teacher_name,num:e.select_count,sum:e.student_requirements,id:e.course_code})}))}else{let a=e.message;z.value=e.data.grade+e.data.majorName,N.value="无",t({title:a,icon:"error",duration:1e3})}}return e(!1),e(!1),e(!1),y((()=>{D()})),(e,w)=>{const y=f,j=_,C=g,D=l;return c(),a(D,{class:"containers","scroll-y":"true"},{default:s((()=>[o(y,{src:h,mode:"aspectFill",class:"bg"}),o(j,{class:"headtext"},{default:s((()=>[r("学生端")])),_:1}),o(j,{class:"xuan"},{default:s((()=>[r(n(i(z)),1)])),_:1}),o(y,{class:"zd",src:"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20fill='none'%20version='1.1'%20width='59'%20height='23'%20viewBox='0%200%2059%2023'%3e%3cdefs%3e%3clinearGradient%20x1='0.5'%20y1='0'%20x2='0.5'%20y2='1'%20id='master_svg0_17_01185'%3e%3cstop%20offset='0%25'%20stop-color='%235277F1'%20stop-opacity='1'/%3e%3cstop%20offset='100%25'%20stop-color='%235D8FF3'%20stop-opacity='1'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%3e%3cpath%20d='M0,15C0,17.2091,1.79086,19,4,19L30,19L27.5,23L39,19L55,19C57.2091,19,59,17.2091,59,15L59,4C59,1.79086,57.2091,0,55,0L4,0C1.79086,0,0,1.79086,0,4L0,15Z'%20fill='url(%23master_svg0_17_01185)'%20fill-opacity='1'/%3e%3c/g%3e%3c/svg%3e",mode:""}),o(j,{class:"dz"},{default:s((()=>[r("中德学院")])),_:1}),o(j,{class:"nnn"},{default:s((()=>[r(" 工程项目选课系统 ")])),_:1}),o(j,{class:"sss"},{default:s((()=>[r("精准匹配课程需求 简化选课流程")])),_:1}),o(j,{class:"zhong"},{default:s((()=>[o(j,{class:"deadline"},{default:s((()=>[r("选题截止时间："+n(i(N)),1)])),_:1})])),_:1}),o(j,{class:"items"},{default:s((()=>[(c(!0),u(m,null,d(i(F),((e,l)=>(c(),a(j,{class:"item",key:l},{default:s((()=>[o(y,{class:"icon",src:v}),o(j,{class:"theme"},{default:s((()=>[o(C,{class:"textext"},{default:s((()=>[r(n(e.theme),1)])),_:2},1024)])),_:2},1024),o(j,{class:"teacher"},{default:s((()=>[r(n(e.t)+"（"+n(e.num)+"/"+n(e.sum)+"）",1)])),_:2},1024),o(y,{class:"you",src:x,onClick:a=>async function(e){let a=await k(e);console.log(a,"chccccc"),0==a.code?(L.setSelectData(a.data,e),p({url:"/pages/s-select/s-select"})):t({title:"获取数据失败!",icon:"error",duration:1e3})}(e.id)},null,8,["onClick"])])),_:2},1024)))),128))])),_:1})])),_:1})}}},[["__scopeId","data-v-5caf0ffc"]]);export{L as default};
