import{r as e,h as s,a,w as l,u as t,c,j as u,F as o,i as n,S as d,o as r,b as i,t as f,k as _,s as m,e as p,E as h}from"./index-BQqAIaJa.js";import{p as v}from"./index.BtZ1W5nT.js";import{_ as k,a as g}from"./_plugin-vue_export-helper.VBtj53E2.js";import{u as j}from"./useMainStore.fUJgjUay.js";const C=k({__name:"s-selected",setup(k){let C=e("");const x=j();let y=e("wangrui@sztu.edu.cn"),b=e([]),w=e(!1);function z(){w.value=!1}async function D(){let e=await v(x.selectCode);console.log(e,"cancal"),0==e.code?(m({title:"删除成功!",icon:"success",duration:1e3}),setTimeout((()=>{p({url:"/pages/s-record/s-record"})}),1e3)):m({title:"删除失败!",icon:"error",duration:1e3})}return e([]).value=[{}],g((()=>{if(null!=x.selectData){let e=x.selectData;C.value=e.content,y.value=e.email,b.value=[],e.selected_student.forEach(((e,s)=>{b.value.push({name:e.name,ban:e.class})}))}})),(e,v)=>{const k=n,g=d;return r(),s(o,null,[a(g,{class:"containers","scroll-y":"true"},{default:l((()=>[a(k,{class:"theme"},{default:l((()=>[i(" 题目 ")])),_:1}),a(k,{class:"hui"},{default:l((()=>[i(f(t(C)),1)])),_:1}),a(k,{class:"theme"},{default:l((()=>[i(" 指导老师邮箱 ")])),_:1}),a(k,{class:"hui"},{default:l((()=>[i(f(t(y))+" ",1),a(k,{class:"fuzhi",onClick:v[0]||(v[0]=e=>{h({data:y.value,success:function(){console.log("success")}})})},{default:l((()=>[i("复制")])),_:1})])),_:1}),a(k,{class:"theme"},{default:l((()=>[i(" 同组学生 ")])),_:1}),(r(!0),s(o,null,_(t(b),((e,s)=>(r(),c(k,{class:"huis",key:s},{default:l((()=>[a(k,{class:"name"},{default:l((()=>[i(f(e.name),1)])),_:2},1024),a(k,{class:"msg"},{default:l((()=>[i("班级："+f(e.ban),1)])),_:2},1024)])),_:2},1024)))),128)),a(k,{class:"delsss",onClick:D},{default:l((()=>[i("删除")])),_:1})])),_:1}),t(w)?(r(),c(k,{key:0,class:"mask"},{default:l((()=>[a(k,{class:"modal"},{default:l((()=>[a(k,{class:"dels",onClick:v[1]||(v[1]=e=>(z(),m({title:"选课成功!",icon:"none",duration:1e3}),void setTimeout((()=>{p({url:"/pages/s-record/s-record"})}),1e3)))},{default:l((()=>[i(" 确认选课 ")])),_:1}),a(k,{class:"footer",onClick:z},{default:l((()=>[i(" 取消 ")])),_:1})])),_:1})])),_:1})):u("",!0)],64)}}},[["__scopeId","data-v-ae5608e4"]]);export{C as default};
